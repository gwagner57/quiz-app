<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>takeQuiz</title>
    <link rel="stylesheet" type="text/css" href="https://rawcdn.githack.com/gwagner57/quiz-app/main/docs/index.css?token=GHSAT0AAAAAACFSDHPJBWG2AZ3EOICQM4UIZIEIPRQ">
</head>
<body>
    <div class="container">
        <h1>Select Category to take a quiz in it</Select></h1>
    <select id="categoryDropdown">
        <option value="">Select a category</option>
    </select>
    <button id="redirectButton">Take the Quiz</button>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    // Reference to the select element
    const categoryDropdown = document.getElementById("categoryDropdown");

    // Fetch the text file
    fetch("https://rawcdn.githack.com/gwagner57/quiz-app/main/docs/Categories.txt?token=GHSAT0AAAAAACFSDHPJW2RXV6MWBQNVN6EGZIELQFQ")
        .then(response => response.text())
        .then(data => {
            // Split the text into lines
            const lines = data.split('\n');

            // Iterate over each line and add it as an option
            lines.forEach(line => {
                const option = document.createElement("option");
                option.text = line.trim(); // Trim to remove any leading/trailing white space
                option.value = line.trim(); // Set the value if needed
                categoryDropdown.appendChild(option);
            });
        })
        .catch(error => {
            console.error("Error fetching the text file:", error);
        });
    });

    const categoryDropdown = document.getElementById('categoryDropdown');
    const redirectButton = document.getElementById('redirectButton');

    redirectButton.addEventListener('click', () => {
      const selectedCategory = categoryDropdown.value;
      if (selectedCategory) {
        window.location.href = 'https://rawcdn.githack.com/gwagner57/quiz-app/main/data/'+selectedCategory+'/1.html?token=GHSAT0AAAAAACFSDHPIS56DO2CGZL4WW2XIZIEI3CQ'
      }
    });


    </script>
</body>
</html>